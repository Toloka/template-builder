<!DOCTYPE html>
<html>
<head>
    <title>Annotation editor demo</title>
    <script src="../build/image-annotation-editor.bundle.js"></script>

    <style>
        .image-annotation-editor {
            width: 600px;
            height: 600px;
        }
    </style>
</head>
<body>
<div id="container"></div>
<button id="shapes">print shapes</button>

<script>
    class AnnotationInterface extends ImageAnnotationEditor.AnnotationInterface {
        createInterfaceElement() {
            return document.createElement('div');
        }
        
        onShow(shape, shapeElement, options) {
            console.log(shapeElement);
        }
    }
    var container = document.getElementById('container');
    var editor = new ImageAnnotationEditor('https://upload.wikimedia.org/wikipedia/commons/c/ca/Black_white_cat_on_fence.jpg', [
        {
            "type":"polygon",
            "data":[{"x":0.06,"y":0.341},{"x":0.048,"y":0.406},{"x":0.069,"y":0.467},{"x":0.069,"y":0.48},{"x":0.099,"y":0.504},{"x":0.147,"y":0.529},{"x":0.196,"y":0.595},{"x":0.181,"y":0.627},{"x":0.156,"y":0.63},{"x":0.147,"y":0.644},{"x":0.154,"y":0.688},{"x":0.207,"y":0.688},{"x":0.243,"y":0.684},{"x":0.261,"y":0.664},{"x":0.268,"y":0.639},{"x":0.288,"y":0.646},{"x":0.271,"y":0.675},{"x":0.276,"y":0.694},{"x":0.292,"y":0.702},{"x":0.336,"y":0.703},{"x":0.348,"y":0.706},{"x":0.373,"y":0.699},{"x":0.387,"y":0.697},{"x":0.427,"y":0.656},{"x":0.535,"y":0.674},{"x":0.609,"y":0.668},{"x":0.634,"y":0.675},{"x":0.612,"y":0.691},{"x":0.567,"y":0.691},{"x":0.54,"y":0.69},{"x":0.508,"y":0.696},{"x":0.51,"y":0.718},{"x":0.513,"y":0.737},{"x":0.547,"y":0.759},{"x":0.585,"y":0.768},{"x":0.618,"y":0.781},{"x":0.672,"y":0.792},{"x":0.69,"y":0.779},{"x":0.715,"y":0.784},{"x":0.846,"y":0.757},{"x":0.891,"y":0.732},{"x":0.927,"y":0.705},{"x":0.942,"y":0.684},{"x":0.964,"y":0.662},{"x":0.976,"y":0.628},{"x":0.981,"y":0.62},{"x":0.987,"y":0.602},{"x":0.975,"y":0.586},{"x":0.954,"y":0.527},{"x":0.922,"y":0.45},{"x":0.924,"y":0.409},{"x":0.901,"y":0.368},{"x":0.894,"y":0.334},{"x":0.879,"y":0.305},{"x":0.811,"y":0.264},{"x":0.781,"y":0.239},{"x":0.732,"y":0.209},{"x":0.696,"y":0.202},{"x":0.637,"y":0.171},{"x":0.585,"y":0.163},{"x":0.528,"y":0.163},{"x":0.483,"y":0.163},{"x":0.46,"y":0.174},{"x":0.429,"y":0.182},{"x":0.388,"y":0.195},{"x":0.366,"y":0.208},{"x":0.346,"y":0.211},{"x":0.325,"y":0.226},{"x":0.28,"y":0.23},{"x":0.247,"y":0.236},{"x":0.225,"y":0.25},{"x":0.198,"y":0.261},{"x":0.186,"y":0.267},{"x":0.156,"y":0.256},{"x":0.141,"y":0.265},{"x":0.099,"y":0.236},{"x":0.067,"y":0.221},{"x":0.048,"y":0.223},{"x":0.046,"y":0.237},{"x":0.041,"y":0.258},{"x":0.039,"y":0.287},{"x":0.06,"y":0.316}]
        }
    ]);

    editor.annotationInterface = new AnnotationInterface();

    editor.render(container);

    document.getElementById('shapes').addEventListener('click', function(e) {
        console.log(editor.shapes);
    });

</script>

</body>
</html>
